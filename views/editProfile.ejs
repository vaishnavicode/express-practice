<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/styles.css" />
    <title>Edit Profile</title>
  </head>
  <body>
    <center>
      <h2>Edit Profile</h2>
      <form action="/editProfile" method="POST">
        <table>
          <tr>
            <td colspan="2">
              <% if (user.profileImageUrl) { %>

              <a href="/uploadProfileImage" id="edit-profile-picture"
                ><img
                  id="profileImage"
                  src="<%= user.profileImageUrl %>"
                  alt="Profile Image"
                  width="100"
                  height="100"
                />
                <% } %>
                <div class="overlay">
                  <span>EDIT</span>
                </div></a
              >
            </td>
          </tr>

          <tr>
            <th><label for="firstName">Name:</label></th>
            <td>
              <input
                type="text"
                name="firstName"
                value="<%= user.firstName %>"
              />
            </td>
          </tr>
          <% if (errors && errors.firstName) { %>
          <tr>
            <td colspan="2" style="color: red">
              <strong><%= errors.firstName %></strong>
            </td>
          </tr>
          <% } %>

          <tr>
            <th><label for="lastName">Surname:</label></th>
            <td>
              <input type="text" name="lastName" value="<%= user.lastName %>" />
            </td>
          </tr>
          <% if (errors && errors.lastName) { %>
          <tr>
            <td colspan="2" style="color: red">
              <strong><%= errors.lastName %></strong>
            </td>
          </tr>
          <% } %>

          <tr>
            <th><label for="userName">Username:</label></th>
            <td>
              <input
                type="text"
                name="userName"
                value="<%= user.userName %>"
                disabled
              />
            </td>
          </tr>

          <tr>
            <th><label for="email">Email:</label></th>
            <td>
              <input
                type="email"
                name="email"
                value="<%= user.email %>"
                disabled
              />
            </td>
          </tr>

          <tr>
            <th><label for="phone">Phone:</label></th>
            <td>
              <input type="text" name="phone" value="<%= user.phone %>" />
            </td>
          </tr>
          <% if (errors && errors.phone) { %>
          <tr>
            <td colspan="2" style="color: red">
              <strong><%= errors.phone %></strong>
            </td>
          </tr>
          <% } %>

          <tr>
            <th><label for="dob">DOB:</label></th>
            <td>
              <input type="date" name="dob" value="<%= user.dob %>" />
            </td>
          </tr>
          <% if (errors && errors.dob) { %>
          <tr>
            <td colspan="2" style="color: red">
              <strong><%= errors.dob %></strong>
            </td>
          </tr>
          <% } %>

          <tr>
            <th><label for="address">Address:</label></th>
            <td>
              <input type="text" name="address" value="<%= user.address %>" />
            </td>
          </tr>
          <% if (errors && errors.address) { %>
          <tr>
            <td colspan="2" style="color: red">
              <strong><%= errors.address %></strong>
            </td>
          </tr>
          <% } %>

          <tr>
            <td colspan="2">
              <button type="submit">Update Profile</button>
            </td>
          </tr>

          <tr>
            <td colspan="2">
              <a href="/profile">Back to Profile</a>
            </td>
          </tr>
        </table>
      </form>
    </center>
  </body>
</html>
